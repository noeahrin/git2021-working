<!doctype html>
<html lang="ko">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

  <title>연락처 관리</title>
</head>

<body style="width: 700px;" class="mx-auto">
  <h2 class="text-center my-4">연락처 관리</h2>
  <!-- Option 1: Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
    crossorigin="anonymous"></script>

  <!-- onsubmit에 return값을 false받으면 하면 action이 실행 안됨 -->
  <form id="form-input" class="d-flex" onsubmit="return false">
    <!-- 이름, 전화번호, 이메일 txt input -->
    <input id="txt-name" type="text" class="form-control me-1" placeholder="이름">
    <input id="txt-phone" type="text" class="form-control me-1" placeholder="전화번호">
    <input id="txt-email" type="text" class="form-control me-2" placeholder="이메일">

    <!-- 추가 버튼 -->
    <button id="btn-add" type="button" class="btn btn-outline-primary text-nowrap">추가</button>
  </form>
  <!-- 테이블 -->
  <!-- <table class="table table-striped table-hover mt-5">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">First</th>
        <th scope="col">Last</th>
        <th scope="col">Handle</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th scope="row">1</th>
        <td>Mark</td>
        <td>Otto</td>
        <td>@mdo</td>
      </tr>
      <tr>
        <th scope="row">2</th>
        <td>Jacob</td>
        <td>Thornton</td>
        <td>@fat</td>
      </tr>
      <tr>
        <th scope="row">3</th>
        <td>Jacob</td>
        <td>Larry the Bird</td>
        <td>@twitter</td>
      </tr>
      <tr>
        <th scope="row">4</th>
        <td>Jacob</td>
        <td>Larry the Bird</td>
        <td>@twitter</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td>데이터가 없습니다.</td>
      </tr>
    </tfoot>
  </table> -->
  <script>
    // 요소(이름, 전화번호, 이메일) 선택 선언
    const txtName = document.querySelector('#txt-name');
    const txtPhone = document.querySelector('#txt-phone');
    const txtEmail = document.querySelector('#txt-email');
    const txtAll = document.querySelectorAll('input')
    const btnAdd = document.querySelector('#btn-add');
    const formInput = document.querySelector("#form-input");
    console.log(txtName);
    console.log(txtPhone);
    console.log(txtEmail);
    console.log(txtAll);
    // tbody, tfoot, tfoor>tr 요소 선택 선언
    const tbody = document.querySelector('tbody');
    const tfoot = document.querySelector('tfoot');
    const tfootTr = document.querySelector('tfoot>tr');
    console.log(tbody);
    console.log(tfoot);
    console.log(tfootTr);
    // --------------------------------------------------

    txtAll.addEventListener("keyup", (event) => {
      if (event.keycode == 13) {
        txtName.blur();
        txtPhone.blur();
        txtEmail.blur();
        add(event);
      }
    });

    // 추가버튼에 이벤트 추가 add함수는 밑에 있음
    btnAdd.addEventListener("click", add);

    // 이벤트 처리 함수
    function add(event) {
      console.log(event);
      console.log(txtName.value);

      // 빈 공간 있으면 div창뜸
      if (!txtName.value || !txtPhone.value || !txtEmail.value) {
        const alertDiv = /*html*/
          `
        <div class="alert alert-warning alert-dismissible" role="alert" id="liveAlert">
          빈 공간이 있으면 안됩니다.
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
          `;
        const delDiv = document.querySelector('#liveAlert')
        // 2초 뒤에 뜬 div창 끄기, 처음꺼는 안꺼짐
        setTimeout(() => delDiv.outerHTML = "", 2000)

        formInput.insertAdjacentHTML("afterend", alertDiv);
        return;
      }






    }



  </script>
</body>

</html>